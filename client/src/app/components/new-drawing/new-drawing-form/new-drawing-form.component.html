<div [formGroup]='newDrawingForm'>
    <mat-form-field [style.width.%]="30">
        <mat-label>Nom du nouveau dessin</mat-label>
        <input matInput formControlName='title' type="string" placeholder="Entrez le nom du dessin" required>
        <mat-error *ngIf="newDrawingForm.get('title').hasError('required')">
            Ce champ est obligatoire.
        </mat-error>
        <mat-error
            *ngIf="newDrawingForm.get('title').hasError('minlength') || newDrawingForm.get('title').hasError('maxlength')">
            Le titre doit être entre 8 et 256 caractères de longueur.
        </mat-error>
    </mat-form-field>
    <br>
    <mat-form-field [style.width.%]="15">
        <mat-label>Auteur</mat-label>
        <mat-select formControlName='author_username' required>
            <mat-option>--</mat-option>
            <mat-option *ngFor="let teamName of teamNames" [value]="teamName">
                {{teamName}}
            </mat-option>
        </mat-select>
    </mat-form-field>
    <br>
    <mat-form-field [style.width.%]="15">
        <mat-label>Niveau de visibilité</mat-label>
        <mat-select [(value)]="selectedType" formControlName='type' required>
            <mat-option *ngFor="let visibility of visibilityTypes" [value]="visibility.key">
                {{visibility.value}}
            </mat-option>
        </mat-select>
    </mat-form-field>
    <br>
    <mat-form-field *ngIf="selectedType==='Protégé'" [style.width.%]="15">
        <mat-label>Mot de passe</mat-label>
        <input matInput formControlName='password' type="string" placeholder="Entrez le mot de passe du dessin"
            required>
        <mat-error *ngIf="newDrawingForm.get('password').hasError('required')">
            Ce champ est obligatoire.
        </mat-error>
        <mat-error *ngIf="newDrawingForm.get('password').hasError('minlength') || newDrawingForm.get('password').hasError('maxlength')">
            Le mot de passe doit être entre 8 et 256 caractères de longueur.
        </mat-error>
    </mat-form-field>
</div>