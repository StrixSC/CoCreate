<div class="chat-sidebar-wrapper">
    <div class="action-section">
        <div class="clickable section-button">
            <button (click)="openChatDialog()" [matTooltip]="'Ouvrir le menu de clavardage'" matTooltipPosition="left"
                mat-icon-button>
                <mat-icon>chat</mat-icon>
            </button>
        </div>
        <div class="clickable section-button">
            <button *ngIf="!isOpen" (click)="toggleChatMenu()" [matTooltip]="'Basculer le clavardage'"
                matTooltipPosition="left" mat-icon-button>
                <mat-icon>chevron_left</mat-icon>
            </button>
            <button *ngIf="isOpen" (click)="toggleChatMenu()" [matTooltip]="'Basculer le clavardage'"
                matTooltipPosition="left" mat-icon-button>
                <mat-icon>chevron_right</mat-icon>
            </button>
        </div>
        <div class='section-button'>
            <button (click)="openCreateChannelDialog()" matTooltipPosition="left" mat-icon-button>
                <mat-icon>add</mat-icon>
            </button>
        </div>
        <mat-divider></mat-divider>
    </div>

    <div class="channels">
        <div class="top-section">
            <div class="section-button" mat-icon-button>
                <mat-icon>palette</mat-icon>
                <mat-divider></mat-divider>

            </div>
            <div class="chat-channels-list">
                <div [matBadge]="3" matBadgeOverlap matBadgePosition="abovebefore" matBadgeColor="accent"
                    [matTooltip]="'TESTING'" matTooltipPosition="left" class="clickable chat-channel-bubble">
                    {{ 'D' }}
                </div>
            </div>
            <mat-divider></mat-divider>
        </div>

        <div class="middle-section">
            <div class="section-button" mat-icon-button>
                <mat-icon>groups</mat-icon>
                <mat-divider></mat-divider>

            </div>
            <div class="chat-channels-list">
                <div [matBadge]="3" matBadgeOverlap matBadgePosition="abovebefore" matBadgeColor="accent"
                    [matTooltip]="'TESTING'" matTooltipPosition="left" class="clickable chat-channel-bubble">
                    {{ 'D' }}
                </div>
                <div [matBadge]="3" matBadgeOverlap matBadgePosition="abovebefore" matBadgeColor="accent"
                    [matTooltip]="'TESTING'" matTooltipPosition="left" class="clickable chat-channel-bubble">
                    {{ 'D' }}
                </div>
            </div>
            <mat-divider></mat-divider>
        </div>
        <div class="bottom-section">
            <div class="section-button" mat-icon-button>
                <mat-icon>public</mat-icon>
                <mat-divider></mat-divider>
            </div>
            <div class="chat-channels-list">
                <div [matBadgeHidden]="!channel.notificationCount" [matBadge]="channel.notificationCount"
                    matBadgeOverlap matBadgePosition="abovebefore" matBadgeColor="accent" (click)="onClick(i)"
                    [matTooltip]="channel.name" matTooltipPosition="left" *ngFor="let channel of channels; index as i"
                    class="clickable chat-channel-bubble">
                    {{ channel.name[0] }}
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .section-button {
        cursor: default !important;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .channels {
        display: flex;
        flex-direction: column;
        justify-content: center;
        gap: 0.5rem;
        width: 100%;
    }

    .bottom-section,
    .middle-section,
    .top-section {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        justify-content: center;
    }

    .chat-sidebar-wrapper {
        height: 100%;
        background-color: var(--bg-color);
        display: flex;
        min-width: 75px;
        max-width: 75px;
        overflow-x: hidden;
        overflow-y: auto;
        color: white;
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
    }

    .chat-channels-list {
        width: 100%;
        display: flex;
        justify-content: center;
        flex-direction: column;
        align-items: center;
        gap: 0.25rem;
    }

    .action-section {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        justify-content: center;
        width: 100%;
    }
</style>